{"name":"DiscoMage", "level" : 1, "money" : [0, 0, 0],
"is_npc_ally" : 0,
"is_summoned" : 0,
"summoner_name" : "",
"joins_combat" : 1,
"curHP" : 13,
"curSP" : 20,
"base_stats" : { "MaxMovement": 9, "MaxActions": 2, "Strength": 8, "Intellect": 12, "Wisdom": 11, "Dexterity": 10, "Vitality": 9, "Weight_Limit": 0, "curHP": 13, "curSP": 0, "curTP": 0, "curFP": 0, "curRP": 0, "maxHP": 13, "maxSP": 20, "maxTP": 0, "maxFP": 0, "maxRP": 0, "HP_regen_base": 2, "SP_regen_base": 2, "HP_regen_mult": 0, "SP_regen_mult": 0, "AccuracyMelee": 4, "AccuracyRanged": 2, "AccuracyMagic": 1, "EvasionMelee": 0, "EvasionRanged": 0, "EvasionMagic": 0, "ResistancePhysical": 0, "ResistanceFire": 0, "ResistanceIce": 0, "ResistanceElect": 0, "ResistancePoison": 0, "ResistanceChemical": 0, "ResistanceDisease": 0, "ResistanceMagic": 0, "ResistanceHealing": 0, "ResistanceMental": 0, "MultiplierPhysical": 1, "MultiplierFire": 1, "MultiplierIce": 1, "MultiplierElect": 1, "MultiplierPoison": 1, "MultiplierChemical": 1, "MultiplierDisease": 1, "MultiplierMagic": 1, "MultiplierHealing": -1, "MultiplierMental": 0, "Melee_Crit_Rate": 0.25, "Melee_Crit_Mult": 1.5, "Ranged_Crit_Rate": 0.25, "Ranged_Crit_Mult": 1.5, "Bonus_Physical_dmg": 0, "Bonus_Magical_dmg": 0, "Detect_Secret": 5, "Acrobatics": 0, "Detect_Trap": 2, "Disable_Trap": 1, "Force_Lock": 0, "Pick_Lock": 0, "Turn_Undead": 11 },
"inventory" : [
{"_calculate_melee_attack":"<GDScript#-9223371808583972799>","_calculate_melee_attack_source":"\r\n\tprint('defender tags : ', _defender.tags)\r\n\tif _defender.tags.has('Undead') :\r\n\t\treturn {'Physical' : 999, 'total':999}\r\n\telse :\r\n\t\treturn GameGlobal.calculate_melee_damage(_attacker, _defender,_weapon, _is_crit, _crit_mult,false)\r\n\t\r\n\t","_on_drop":"<GDScript#-9223371808634304459>","_on_drop_source":"\r\n\tSfxPlayer.stream = NodeAccess.__Resources().sounds_book['generation error.wav']\r\n\tSfxPlayer.play()\r\n\tprint('CAN T DROP DAGGER LOL')\r\n\t_item['name'] = 'Cursed Undroppable Dagger'\r\n\t_item['description'] = 'This dagger wasnt just suspicious,  it was cursed !'\r\n\treturn false\r\n","ammo_type":"cantuse","charges":0,"charges_max":0,"charges_weight":0,"delete_on_empty":0,"description":"A suspicious looking dagger.","equippable":1,"equipped":0,"hands":1,"imgdata":"H4sIAAAAAAAACusM8HPn5ZLiYmBg4PX0cAkC0gogzMEGJIurqr4AKcbiIHcnhnXnZF4COUs9XRxDIlrfTnvL26LA07bauoy1LYnV7YXOBiblK/bXKk7elbzl5vxmsoBKzZevuh0MB9cICFav2Zyl/u2e7aPXLFeifsbc13PIWBv5+DWLR0K/yQyZDwnnRCqShASqFVhaGo6z7nnt3NJRv/7e6n/xOsrNghODvdytn9fYTA9qu7bpAMOB3/ozRUyjrj5fsMxc/l7LpGylXxnZM88zOspsEOJrYZb6er9v7q1W3uwAR5eSz/1dQAczeLr6uaxzSmgCAG3p3mjrAAAA","imgdatasize":235,"is_identified":0,"is_magical":1,"melee_atk_anim_icon":"ATK_WPN","melee_inflicted_traits":[["t_poison.gd",[1],1]],"name":"Weird Dagger","price":10,"slots":["Melee Weapon"],"sound":"metal hit.wav","splittable":0,"stats":{"EvasionMelee":3},"stats_mini":"Damage : 1-4","t_poison.gd":["<GDScript#-9223371837071682903>",[1]],"texture":"<ImageTexture#-9223371808667858878>","tradeable":1,"type":"Dagger","unidentified_name":"Dagger","unique":0,"weapon_dmg":{"Fire":[1,2],"Physical":[1,4]},"weight":10}
],
"spells" : 
[[{"name":"Heal Minor Wounds","script":"<RefCounted#-9223371808466532319>","source":"\nvar name : String = 'Heal Minor Wounds'\nvar attributes : Array = ['Healing']\nvar targettile : int = 1  #0=anywhere 1=creature 2=empty 3=nowall \nvar schools: Array = ['Priest']\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = true\nvar in_combat : bool = true\nvar description : String = 'Instantly heals a single target in melee range\\nHeal : 1-8 x Power\\nSP cost : Power * 10'\nvar resist : int = 0 #ignores resistances and dodge\n#var aoe : String = 'b1'\nvar los : bool = true\nvar ray : bool = false\nvar rot : bool = false\nvar proj_tex : String = 'Cloud'\nvar proj_hit : String = 'Sphere'\nvar sounds : Array = ['','slurpy.wav']\nvar max_focus_loss : int = 0\n\nstatic func get_targets(_power : int, __casterchar)->int :\n\treturn 1\n\n#static func get_hits(_power : int, __casterchar)->int :\n#\treturn 1\n\nstatic func get_min_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\n#static func get_duration_roll(_power : int, __casterchar) -> int :\n#\treturn 0\n\nstatic func get_range(_power : int, __casterchar) -> int :\n\treturn 1\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 1*_power\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 8*_power\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\tvar dmg = 0\n\tvar mindmg = 1\n\tvar maxdmg = 8\n\tfor i in range(_power) :\n\t\tdmg += mindmg+ randi()%maxdmg\n\treturn dmg\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn -7777777 #= infinite wiith resist==0 anyway\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power*10\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'b1'\n\n"},{"name":"Plane of Frost","script":"<RefCounted#-9223371808432977885>","source":"\nvar name : String = 'Plane of Frost'\nvar attributes : Array = ['Ice']\nvar targettile : int = 4  #0=anywhere 1=creature 2=empty 3=nowall 4=anywhere\nvar schools : Array = ['Sorcerer']\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = false\nvar in_combat : bool = true\nvar description : String = 'Creates icy hurty terrain'\nvar resist : int = 1 #ignores dodge\n#var aoe : String = 'wh'\nvar los : bool = true\nvar ray : bool = false\nvar rot : bool = true\n#var proj_tex : String = 'Cloud'\nvar proj_hit : String = 'Ice'\nvar sounds : Array = ['','spell launch 5.wav']\nvar places_terrain : bool = true\nvar terrain_tex : String = 'Spk'\nvar terrain_walk_type : int = 0 #0=on entry and re entry this turn 1=every step\n\nstatic func get_range(_power : int, _casterchar) -> int :\n\treturn 8\n\nstatic func get_targets(_power : int, _casterchar)->int :\n\treturn 1  #i this ever used ?\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_hits(_power : int, _casterchar)->int :\n\treturn 1\n\nstatic func get_min_duration(_power : int, _casterchar) -> int :\n\treturn 3\n\nstatic func get_max_duration(_power : int, _casterchar) -> int :\n\treturn 3\n\nstatic func get_duration_roll(_power : int, _casterchar) -> int :\n\treturn 3\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power*10\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'wh'\n\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 1*_power\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 8*_power\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn 1.0\n\n"},{"name":"Phase","script":"<RefCounted#-9223371808315537371>","source":"\nvar name : String = 'Phase'\nvar attributes : Array = ['Magical']\nvar targettile : int = 2  #0=anywhere 1=creature 2=empty 3=nowall \nvar schools : Array = ['Sorcerer']\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = false\nvar in_combat : bool = true\nvar description : String = 'Teleports the user to an empty space\\nSP cost : Power * 10'\nvar resist : int = 0 #ignores resistances and dodge\n#var aoe : String = 'b1'\nvar los : bool = false\nvar ray : bool = false\nvar rot : bool = false\nvar proj_tex : String = 'Cloud'\nvar proj_hit : String = 'Sphere'\nvar sounds : Array = ['','spell effect.wav']\n\nstatic func get_targets(_power : int, _casterchar)->int :\n\treturn 1\n\nstatic func get_hits(_power : int, _casterchar)->int :\n\treturn 0\n\nstatic func get_min_duration(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_duration_roll(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_range(_power : int, _casterchar) -> int :\n\treturn _power*3\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\treturn 0\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn -7777777 #= infinite\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power*10\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'b1'\n\nstatic func special_effect(_castercrea, _spell, _power, _main_targeted_tile, _effected_tiles, _effected_creas, _add_terrain) :\n\tprint('PHASE TELEPORT !!!')\n\tvar newtpos : Vector2 = _main_targeted_tile\n\t_castercrea.combat_button.position  = Utils.GRID_SIZE * newtpos\n\t_castercrea.position = newtpos\n\treturn true\n\n"},{"name":"Summon Alien Beetle","script":"<RefCounted#-9223371808097433561>","source":"\nvar name : String = 'Summon Alien Beetle'\nvar attributes : Array = ['Magical']\nvar targettile : int = 2  #0=anywhere 1=creature 2=empty 3=nowall \nvar schools : Array =['Sorcerer']\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = false\nvar in_combat : bool = true\nvar description : String = 'Summon an alien beetle\\nSP cost : Power * 10'\nvar resist : int = 0 #ignores resistances and dodge\n#var aoe : String = 'b1'\nvar los : bool = false\nvar ray : bool = false\nvar rot : bool = false\n#var proj_tex : String = 'Cloud'\nvar proj_hit : String = 'Whirl'\nvar sounds : Array = ['','spell effect.wav']\n\nstatic func get_targets(_power : int, _casterchar)->int :\n\treturn 1\n\nstatic func get_hits(_power : int, _casterchar)->int :\n\treturn 0\n\nstatic func get_min_duration(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_duration_roll(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_range(_power : int, _casterchar) -> int :\n\treturn _power*3\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\treturn 0\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn -7777777 #= infinite\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power*10\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'b1'\n\nstatic func special_effect(_castercrea, _spell, _power, _main_targeted_tile, _effected_tiles, _effected_creas, _add_terrain) :\n\tprint('SUMMON Alien Beetle json !!!')\n\tvar newpos : Vector2 = _main_targeted_tile\n\tprint('SPECIAL before creature. load')\n\tvar CreatureGD : GDScript = load('res://Creature/Creature.gd')\n\tprint('SPECIAL before creature.new')\n\tvar creascript = CreatureGD.new()\n\tprint('SPECIAL before init from bestiary')\n\tcreascript.initialize_from_bestiary_dict('Alien Beetle')\n\tprint('SPECIAL aftre init from bestiary')\n\tcreascript.position = newpos\n\tcreascript.is_summoned = true\n\tcreascript.summoner_name = _castercrea.name\n\tcreascript.summoner = _castercrea\n\tcreascript.baseFaction = _castercrea.baseFaction\n\tcreascript.curFaction = _castercrea.curFaction\n\tvar alternate_tex : ImageTexture = GameGlobal.cmp_resources.images_book['CREA_alienbeetle_2']['tex']\n\tif randi_range(0,1)==1 :\n\t\tcreascript.textureL = alternate_tex\n\t\tcreascript.textureR = alternate_tex\n\tStateMachine.combat_state.add_pc_or_npcally_to_battle_map(creascript, newpos)\n\treturn true\n\n#\tvar combatcreaturemapobjectTSCN = load('res://scenes/Map/CombatCharacter.tscn')\n#\tvar crea_mapb = combatcreaturemapobjectTSCN.instantiate()\n#\t\t# creatures_node charactersnode\n#\tGameGlobal.map.creatures_node.add_child(crea_mapb)\n#\tcrea_mapb.set_creature_represented(creascript)\n#\tcreascript.combat_button = crea_mapb\n#\tcrea_mapb.bgsprite.hide()\n#\t\tcrea_mapb.tile_position_x = creascript.position.x\n#\t\tcrea_mapb.tile_position_y = creascript.position.y\n#\tGameGlobal.all_battle_creatures_btns.append(crea_mapb)\n#\tGameGlobal.player_allies.append(creascript)\n#\tUI.ow_hud.fillCharactersRect()\n\n\n"},{"name":"Bear Form","script":"<RefCounted#-9223371808030324695>","source":"\nvar name : String = 'Bear Form'\nvar attributes : Array = ['Magical']\nvar targettile : int = 1  #0=anywhere 1=creature 2=empty 3=nowall  4=no_targ_phase\nvar schools : Array = ['Druid']\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = false\nvar in_combat : bool = true\nvar description : String = 'TUrn ino a BEAR!!!\\nSP cost : Power * 10'\nvar resist : int = 0 #ignores resistances and dodge\n#var aoe : String = 'sf'\nvar los : bool = false\nvar ray : bool = false\nvar rot : bool = false\n#var proj_tex : String = 'Cloud'\nvar proj_hit : String = 'Whirl'\nvar sounds : Array = ['','spell effect.wav']\n\nstatic func get_targets(_power : int, _casterchar)->int :\n\treturn 1\n\nstatic func get_hits(_power : int, _casterchar)->int :\n\treturn 0\n\nstatic func get_min_duration(_power : int, _casterchar) -> int :\n\treturn _power\n\nstatic func get_max_duration(_power : int, _casterchar) -> int :\n\treturn _power\n\nstatic func get_duration_roll(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_range(_power : int, _casterchar) -> int :\n\treturn 0\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\treturn 0\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn -7777777 #= infinite\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power*5\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'sf' #sf=self\n\nstatic func special_effect(_castercrea, _spell, _power, _main_targeted_tile, _effected_tiles, _effected_creas, _add_terrain) -> bool :\n\tprint('BEAR MORPH !!!')\n\t\n\tvar traitscript = load('res://shared_assets/traits/'+'t_druidmorph.gd')\n\tvar alternate_tex : ImageTexture = NodeAccess.__Resources().images_book['CREA_teddybear']['tex']\n\tvar trait_array : Array = [alternate_tex, _power]\n\t_castercrea.add_trait(traitscript , trait_array)\n\treturn true\n\n"},{"name":"Cosmic Blast","script":"<RefCounted#-9223371807996770281>","source":"\nvar name : String = 'Cosmic Blast'\nvar attributes : Array = ['Magical']\nvar targettile : int = 4  #0=anywhere 1=creature 2=empty 3=nowall  4=no_targ_phase\nvar schools : Array =['Sorcerer']\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = false\nvar in_combat : bool = true\nvar description : String = 'Cosmic Blaaaaaast !\\nSP cost : Power * 10'\nvar resist : int = 2 #can be resisted but not dodged\n#var aoe : String = 'eo'\nvar los : bool = false\nvar ray : bool = false\nvar rot : bool = false\n#var proj_tex : String = 'Cloud'\nvar proj_hit : String = 'Sphere'\nvar sounds : Array = ['','spell effect.wav']\n\nstatic func get_targets(_power : int, _casterchar)->int :\n\treturn 1\n\nstatic func get_hits(_power : int, _casterchar)->int :\n\treturn 0\n\nstatic func get_min_duration(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_duration_roll(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_range(_power : int, _casterchar) -> int :\n\treturn 0\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 1\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 4\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\tvar dmg = 0\n\tvar mindmg = 1\n\tvar maxdmg = 4\n\tfor i in range(_power) :\n\t\tdmg += mindmg+ randi()%maxdmg\n\treturn dmg\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn 1.0\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power*10\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'ae' #ae = all enemies\n\n"},{"name":"Heat Ray","script":"<RefCounted#-9223371807963215847>","source":"\nvar name : String = 'Heat Ray'\nvar attributes : Array = ['Fire', 'Magical']\nvar targettile : int = 0  #0=anywhere 1=creature 2=empty 3=nowall \nvar schools : Array = ['Sorcerer']\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = false\nvar in_combat : bool = true\nvar description : String = 'Fires a piercing Fire Ray\\nFire : 1-4 x Power\\nSP cost : Power * 4'\nvar resist : int = 3 #protected with resistances and dodge\nvar aoe : String = 'b1'\nvar los : bool = true\nvar ray : bool = true\nvar rot : bool = false\nvar proj_tex : String = 'Fire'\nvar proj_hit : String = 'Fire'\nvar sounds : Array = ['spell launch 5.wav','collision.wav']\n\nstatic func get_targets(_power : int, _casterchar)->int :\n\treturn 1\n\nstatic func get_hits(_power : int, _casterchar)->int :\n\treturn 1\n\nstatic func get_min_duration(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_duration_roll(_power : int, _casterchar) -> int :\n\treturn 0\n\nstatic func get_range(_power : int, _casterchar) -> int :\n\treturn _power+8\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 1*_power\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 1*_power\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\tvar dmg = 0\n\tvar mindmg = 1\n\tvar maxdmg = 8\n\tfor i in range(_power) :\n\t\tdmg += mindmg+ randi()%maxdmg\n\treturn 1\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn 1.0\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power*4\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'b1'\n\n"},{"name":"Discover Magic","script":"<RefCounted#-9223371807828998116>","source":"var name : String = 'Discover Magic'\nvar attributes : Array = []\nvar tags : Array = ['Magical', 'Melee']\nvar schools : Array = ['Sorcerer']\n\nvar targettile : int = 1  #0=anywhere 1=creature 2=empty 3=nowall \n\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = true\nvar in_combat : bool = true\nvar description : String = 'Identifies all magic items on target.\\nCan be used in or out of combat or during treasure collection.\\nSP cost : Power * 1'\nvar resist : int = 0 #ignores resistances and dodge\n#var aoe : String = 'b1'\nvar los : bool = true\nvar ray : bool = false\nvar rot : bool = false\n#var proj_tex : String = 'Cloud'\nvar proj_hit : String = 'Whirl'\nvar sounds : Array = ['','spell launch 5.wav']\nvar max_focus_loss : int = 0\n\nstatic func get_targets(_power : int, __casterchar)->int :\n\treturn 1\n\n#static func get_hits(_power : int, __casterchar)->int :\n#\treturn 1\n\nstatic func get_min_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\n#static func get_duration_roll(_power : int, __casterchar) -> int :\n#\treturn 0\n\nstatic func get_range(_power : int, __casterchar) -> int :\n\treturn 1\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\treturn 0\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn 100 #= infinite wiith resist==0 anyway\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'b1'\n\nstatic func special_effect(_castercrea, _spell, _power, _main_targeted_tile, _effected_tiles, _effected_creas, _add_terrain) -> bool :\n\tvar text : String = ''\n\tfor c : Creature in _effected_creas :\n\t\tvar c_magic_items : Array = []\n\t\tfor i : Dictionary in c.inventory :\n\t\t\tif i['is_magical'] : c_magic_items.append(i['name'])\n\t\tif c_magic_items.is_empty() :\n\t\t\ttext += c.name + ' carries no magic item.\\n'\n\t\telse :\n\t\t\ttext += c.name + ' carries magic items :\\n'\n\t\t\tfor i : int in range(c_magic_items.size()) :\n\t\t\t\tif i < c_magic_items.size() :\n\t\t\t\t\ttext += c_magic_items[i] +', '\n\t\t\t\telse :\n\t\t\t\t\ttext += c_magic_items[i] +'\\n'\n\tvar textRect = UI.ow_hud.textRect\n\tif StateMachine.is_combat_state() :\n\t\ttextRect.show()\n\t\tUI.ow_hud.creatureRect.hide()\n\ttextRect.set_text(text, true)\n\tawait textRect.interruption_over\n\tif StateMachine.is_combat_state() :\n\t\ttextRect.hide()\n\t\tUI.ow_hud.creatureRect.show()\n\treturn true\n"}],[],[],[],[{"name":"Creature Summon 1","script":"<RefCounted#-9223371630275716318>","source":"\nvar name : String = 'Creature Summon 1'\nvar attributes : Array = []\nvar tags : Array = ['Magical', 'Summon']\nvar schools : Array = ['Enchanter','Sorcerer']\nvar targettile : int = 2  #0=anywhere 1=creature 2=empty 3=nowall \n\nvar level : int = 5\nvar selection_cost : int = 15\nvar max_plevel : int = 7\nvar in_field : bool = false\nvar in_combat : bool = true\nvar description : String = 'Will cause creatures to appear from the void and fight for the caster.'\nvar resist : int = 2 #ignores evasion\n#var aoe : String = 'b1'\nvar los : bool = false\nvar ray : bool = false\nvar rot : bool = false\nvar proj_tex : String = 'Ball'\nvar proj_hit : String = 'Sphere'\nvar sounds : Array = ['pinball bumper.wav','jump.wav']\nvar max_focus_loss : int = 0\n\nconst ixi : Array = [Vector2i.ZERO]\nconst ixii : Array = [Vector2i.ZERO, Vector2i.DOWN]\nconst iixi : Array = [Vector2i.ZERO, Vector2i.RIGHT]\nconst iixii : Array = [Vector2i.ZERO, Vector2i.DOWN, Vector2i.RIGHT, Vector2i.ONE]\n\n\n\nstatic func get_targets(_power : int, __casterchar)->int :\n\treturn _power\n\nstatic func get_min_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\nstatic func get_range(_power : int, __casterchar) -> int :\n\treturn 24\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\treturn 0\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn 1.0\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn 1*_power\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn _power\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn [ixi, ixii, iixi, iixii].pick_random()\n\nstatic func special_effect(_castercrea, _spell, _power, _main_targeted_tile, _effected_tiles, _effected_creas, _add_terrain) :\n\tprint('CREATURE SUMMON1 SPECIAL')\n\tvar newpos : Vector2 = _main_targeted_tile\n\tvar CreatureGD : GDScript = load('res://Creature/Creature.gd')\n\tvar creascript = CreatureGD.new()\n\tvar aoe_shape : Array = GameGlobal.map.targetingLayer.aoe_shape\n\tvar creature_name : String = ''\n\tmatch aoe_shape :\n\t\tixi :\n\t\t\tcreature_name = 'Alien Beetle'\n\t\tixii :\n\t\t\tcreature_name = 'Alien Beetle'\n\t\tiixi :\n\t\t\tcreature_name = 'Alien Beetle'\n\t\tiixii :\n\t\t\tcreature_name = 'Giant Snail'\n\t\t_ :\n\t\t\tcreature_name = 'Alien Beetle'\n\tcreascript.initialize_from_bestiary_dict(creature_name)\n\tprint('SPECIAL aftre init from bestiary')\n\tcreascript.position = newpos\n\tcreascript.is_summoned = true\n\tcreascript.summoner_name = _castercrea.name\n\tcreascript.summoner = _castercrea\n\tcreascript.baseFaction = _castercrea.baseFaction\n\tcreascript.curFaction = _castercrea.curFaction\n\tStateMachine.combat_state.add_pc_or_npc_ally_to_battle_map(creascript, newpos)\n\treturn true\n\n"}],[],[]]
,
"traits" : [
],
"selection_pts" : -10,
"campaign" : "City of Bywater"
}
