{"Discover Magic": "var name : String = 'Discover Magic'\nvar attributes : Array = []\nvar tags : Array = ['Magical', 'Melee']\nvar schools : Array = ['Sorcerer']\n\nvar targettile : int = 1  #0=anywhere 1=creature 2=empty 3=nowall \n\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = true\nvar in_combat : bool = true\nvar description : String = 'Identifies all magic items on target.\\\\nCan be used in or out of combat or during treasure collection.\\\\nSP cost : Power * 1'\nvar resist : int = 0 #ignores resistances and dodge\n#var aoe : String = 'b1'\nvar los : bool = true\nvar ray : bool = false\nvar rot : bool = false\n#var proj_tex : String = 'Cloud'\nvar proj_hit : String = 'Whirl'\nvar sounds : Array = ['','spell launch 5.wav']\nvar max_focus_loss : int = 0\n\nstatic func get_targets(_power : int, __casterchar)->int :\n\treturn 1\n\n#static func get_hits(_power : int, __casterchar)->int :\n#\treturn 1\n\nstatic func get_min_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\n#static func get_duration_roll(_power : int, __casterchar) -> int :\n#\treturn 0\n\nstatic func get_range(_power : int, __casterchar) -> int :\n\treturn 1\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\treturn 0\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn 100 #= infinite wiith resist==0 anyway\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'b1'\n\nstatic func special_effect(_castercrea, _spell, _power, _main_targeted_tile, _effected_tiles, _effected_creas, _add_terrain) -> bool :\n\tvar text : String = ''\n\tfor c : Creature in _effected_creas :\n\t\tvar c_magic_items : Array = []\n\t\tfor i : Dictionary in c.inventory :\n\t\t\tif i['is_magical'] : c_magic_items.append(i['name'])\n\t\tif c_magic_items.is_empty() :\n\t\t\ttext += c.name + ' carries no magic item.\\\\n'\n\t\telse :\n\t\t\ttext += c.name + ' carries magic items :\\\\n'\n\t\t\tfor i : int in range(c_magic_items.size()) :\n\t\t\t\tif i < c_magic_items.size() :\n\t\t\t\t\ttext += c_magic_items[i] +', '\n\t\t\t\telse :\n\t\t\t\t\ttext += c_magic_items[i] +'\\\\n'\n\tvar textRect = UI.ow_hud.textRect\n\tif StateMachine.is_combat_state() :\n\t\ttextRect.show()\n\t\tUI.ow_hud.creatureRect.hide()\n\ttextRect.set_text(text, true)\n\tawait textRect.interruption_over\n\tif StateMachine.is_combat_state() :\n\t\ttextRect.hide()\n\t\tUI.ow_hud.creatureRect.show()\n\treturn true\n", "Identify Objects": "var name : String = 'Identify Objects'\nvar attributes : Array = []\nvar tags : Array = ['Magical', 'Melee']\nvar schools : Array = ['Enchanter','Sorcerer']\n\nvar targettile : int = 1  #0=anywhere 1=creature 2=empty 3=nowall \n\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 1\nvar in_field : bool = true\nvar in_combat : bool = true\nvar description : String = 'Identifies all magic items on target.\\\\nOnly usable out of combat.\\\\nSP cost : 25'\nvar resist : int = 0 #ignores resistances and dodge\nvar los : bool = true\nvar ray : bool = false\nvar rot : bool = false\nvar proj_tex : String = 'Ball'\nvar proj_hit : String = 'Target'\nvar sounds : Array = ['force field.wav','spell launch 5.wav']\nvar max_focus_loss : int = 0\n\nstatic func get_targets(_power : int, __casterchar)->int :\n\treturn 1\n\n#static func get_hits(_power : int, __casterchar)->int :\n#\treturn 1\n\nstatic func get_min_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\n#static func get_duration_roll(_power : int, __casterchar) -> int :\n#\treturn 0\n\nstatic func get_range(_power : int, __casterchar) -> int :\n\treturn 0\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\treturn 0\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn 100 #= infinite wiith resist==0 anyway\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'b1'\n\n\nstatic func special_effect(_castercrea, _spell, _power, _main_targeted_tile, _effected_tiles, _effected_creas, _add_terrain) -> bool :\n\tfor c : Creature in _effected_creas :\n\t\tfor i : Dictionary in c.inventory :\n\t\t\ti['is_identified'] = 1\n\treturn true\n", "Enchanted Blade": "var name : String = 'Enchanted Blade'\nvar attributes : Array = []\nvar tags : Array = ['Magical', 'Buff']\nvar schools : Array = ['Enchanter', 'Sorcerer']\n\nvar targettile : int = 1  #0=anywhere 1=creature 2=empty 3=nowall \n\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = true\nvar in_combat : bool = true\nvar description : String = 'Will cause the target to do more damage during combat.\\\\A weapon is not required.\\\\nSP cost : Power * 2'\nvar resist : int = 0 #ignores resistances and dodge\n#var aoe : String = 'b1'\nvar los : bool = true\nvar ray : bool = false\nvar rot : bool = false\nvar proj_tex : String = 'Ball'\nvar proj_hit : String = 'Target'\nvar sounds : Array = ['spell launch 5.wav','clash.wav']\nvar max_focus_loss : int = 0\n\nstatic func get_targets(_power : int, __casterchar)->int :\n\treturn 1\n\n#static func get_hits(_power : int, __casterchar)->int :\n#\treturn 1\n\nstatic func get_min_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\n#static func get_duration_roll(_power : int, __casterchar) -> int :\n#\treturn 0\n\nstatic func get_range(_power : int, __casterchar) -> int :\n\treturn 5\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn 0\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\treturn 0\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn 100 #= infinite wiith resist==0 anyway\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power*2\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'b1'\n\nstatic func add_traits_to_target(_casterchar : Creature, _targetcbbutton : CombatCreaButton, _power : int) :\n\tvar traitscript = load('res://shared_assets/traits/'+'t_phys_dmg_bonus.gd')\n\tvar trait_array : Array = [_power]  #no need to add teh character at index 0, done in creaure.gd add_trait\n\t_targetcbbutton.creature.add_trait(traitscript , trait_array)\n", "Flame Hands": "var name : String = 'Flame Hands'\nvar attributes : Array = ['Magical', 'Fire']\nvar tags : Array = ['Magical', 'Fire', 'Melee']\nvar schools : Array = ['Sorcerer']\n\nvar targettile : int = 1  #0=anywhere 1=creature 2=empty 3=nowall \n\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = false\nvar in_combat : bool = true\nvar description : String = 'Damage : 1-3 x Power\\\\n  Range : Touch\\\\n  Target : Single\\\\n   Sight : Yes\\\\nDuration : NA'\nvar resist : int = 3 #protected with resistances and dodge\n#var aoe : String = 'b1'\nvar los : bool = true\nvar ray : bool = false\nvar rot : bool = false\nvar proj_tex : String = 'Fire'\nvar proj_hit : String = 'Fire'\nvar sounds : Array = ['spell launch 7.wav','small explode.wav']\nvar max_focus_loss : int = 1\n\nstatic func get_targets(_power : int, __casterchar)->int :\n\treturn 1\n\n#static func get_hits(_power : int, __casterchar)->int :\n#\treturn 1\n\nstatic func get_min_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\n#static func get_duration_roll(_power : int, __casterchar) -> int :\n#\treturn 0\n\nstatic func get_range(_power : int, __casterchar) -> int :\n\treturn 6\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn _power\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn _power * 3\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\tvar dmg = 0\n\tvar mindmg = 1\n\tvar maxdmg = 3\n\tfor i in range(_power) :\n\t\tdmg += mindmg+ randi()%maxdmg\n\treturn dmg\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn 0\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power*2\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'b1'\n", "Energy Storm": "var name : String = 'Energy Storm'\nvar attributes : Array = ['Magical', 'Electric']\nvar tags : Array = ['Magical', 'Electric']\nvar schools : Array = ['Sorcerer']\n\nvar targettile : int = 3  #0=anywhere 1=creature 2=empty 3=nowall \n\nvar level : int = 1\nvar selection_cost : int = 1\nvar max_plevel : int = 7\nvar in_field : bool = false\nvar in_combat : bool = true\nvar description : String = 'Damage : 1-3 x Power\\\\n  Range : 6\\\\n  Target : Fixed Size, Large\\\\n   Sight : Yes\\\\nDuration : NA'\nvar resist : int = 3 #protected with resistances and dodge\n#var aoe : String = 'b1'\nvar los : bool = true\nvar ray : bool = false\nvar rot : bool = false\nvar proj_tex : String = 'Spark'\nvar proj_hit : String = 'Spark'\nvar sounds : Array = ['spell launch 1.wav','electric energize.wav']\nvar max_focus_loss : int = 0\n\nstatic func get_targets(_power : int, __casterchar)->int :\n\treturn 1\n\n#static func get_hits(_power : int, __casterchar)->int :\n#\treturn 1\n\nstatic func get_min_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\nstatic func get_max_duration(_power : int, __casterchar) -> int :\n\treturn 0\n\n#static func get_duration_roll(_power : int, __casterchar) -> int :\n#\treturn 0\n\nstatic func get_range(_power : int, __casterchar) -> int :\n\treturn 6\n\t\nstatic func get_min_damage(_power:int, _casterchar) :\n\treturn _power\n\t\nstatic func get_max_damage(_power:int, _casterchar) :\n\treturn _power * 3\n\t\nstatic func get_damage_roll(_power : int, _casterchar) :\n\tvar dmg = 0\n\tvar mindmg = 1\n\tvar maxdmg = 3\n\tfor i in range(_power) :\n\t\tdmg += mindmg+ randi()%maxdmg\n\treturn dmg\n\nstatic func get_accuracy(_casterchar, _power : int) :\n\treturn 0\n\nstatic func get_sp_cost(_power : int, _casterchar) :\n\treturn _power*10\n\nstatic func get_target_number(_power : int, _casterchar) :\n\treturn 1\n\nstatic func get_aoe(_power : int, _casterchar) :\n\treturn 'b5'\n"}